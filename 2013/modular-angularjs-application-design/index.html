<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <title>
    Modular AngularJS App Design // Clint Berry
  </title>

  <link href="http://gmpg.org/xfn/11" rel="profile">
<meta http-equiv="content-type" content="text/html; charset=utf-8">


<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="description" content="Full Stack Developer. Wannabe Enrepreneur.">
<meta name="keywords" content="">
<meta name="author" content="Clint Berry">

  <meta property="og:title" content="Modular AngularJS App Design" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:locale" content="en_US" />
<meta property="og:url" content="http://clintberry.github.io/2013/modular-angularjs-application-design/" />

<meta property="og:image" content="/apple-icon-114x114.png" />


  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.5.0/base-min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.5.0/pure-min.css">
  
  
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.5.0/grids-responsive-min.css">
  
  

  <link rel="stylesheet" href="http://clintberry.github.io/css/redlounge.css">
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
  <link href='//fonts.googleapis.com/css?family=Raleway:400,200,100,700,300,500,600,800' rel='stylesheet' type='text/css'>
  <link href='//fonts.googleapis.com/css?family=Libre+Baskerville:400,700,400italic' rel='stylesheet' type='text/css'>

  
  <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">

  
  <link href="" rel="alternate" type="application/rss+xml" title="Clint Berry" />

    
  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/tomorrow-night-bright.min.css">
  
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>


  

  

  
</head>

<body>
	

	<div id="layout" class="pure-g">
    <div class="sidebar pure-u-1 pure-u-md-1-4">
  <div class="header">
    

    <h1 class="brand-title">Clint Berry</h1>
    <h2 class="brand-tagline">Full Stack Developer. Wannabe Entrepreneur.</h2>

    <nav class="nav">
      <ul class="nav-list">
        <li class="nav-item"><span class="nav-item-separator">//</span><a href="http://clintberry.github.io">Home</a></li>
        
          <li class="nav-item"><span class="nav-item-separator">//</span><a href="/about/">About</a></li>
        
          <li class="nav-item"><span class="nav-item-separator">//</span><a href="/blog/">Blog</a></li>
        
      </ul>
    </nav>

    
    <div class="social-buttons">
      
        
        <a href="http://www.twitter.com/clinton_berry" target="_blank"><i class='fa fa-twitter-square'></i></a>
        
      
        
        <a href="http://www.linkedin.com/in/clintonberry" target="_blank"><i class='fa fa-linkedin-square'></i></a>
        
      
        
        <a href="https://plus.google.com/116690395418514703068/posts" target="_blank"><i class='fa fa-google-plus-square'></i></a>
        
      
      
    </div>
    

  </div>
</div>

	
	

    <div class="content pure-u-1 pure-u-md-3-4">
		<a name="top"></a>
		

		
			
		    <div id="toc" class="pure-u-1 pure-u-md-1-4">
				<small class="toc-label">Contents</small>
		   	 	<nav id="TableOfContents">
<ul>
<li>
<ul>
<li>
<ul>
<li>
<ul>
<li><a href="#directory-structure:4c97daa88433d2e6f1d0de762f76dbf5">Directory Structure</a></li>
<li><a href="#defining-the-modules:4c97daa88433d2e6f1d0de762f76dbf5">Defining the Modules</a>
<ul>
<li><a href="#nbsp:4c97daa88433d2e6f1d0de762f76dbf5">&nbsp;</a></li>
<li><a href="#nbsp-1:4c97daa88433d2e6f1d0de762f76dbf5">&nbsp;</a></li>
</ul></li>
<li><a href="#implementing-your-modules:4c97daa88433d2e6f1d0de762f76dbf5">Implementing Your Modules</a>
<ul>
<li><a href="#nbsp-2:4c97daa88433d2e6f1d0de762f76dbf5">&nbsp;</a></li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</nav>
		    </div>
		    
	    
  		<section class="post">
            <h1 class="post-title">
              <a href="/2013/modular-angularjs-application-design/">Modular AngularJS App Design</a>
            </h1>
            <h3 class="post-subtitle">
            	
            </h3>
            
            	<span class="post-date">
                	<span class="post-date-day"><sup>29</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Apr</span> <span class="post-date-year">2013</span>
            	</span>
            	
            
            	
            		<span class="post-author-single">By <a class="post-author"  target="">Clint Berry</a></span>
            		




            	
            

			
			
				<div class="post-categories">
				
					<a class="post-category post-category-angular" href="http://clintberry.github.io/categories/angular">Angular</a>
				
				</div>
			

			

			

            

<p><img src="http://clintberry.com/images/angular-module1.png" alt="angular module" width="225" height="200" class="alignleft size-full wp-image-836" /></p>

<p>I am a sucker for modules. Something about bundling a set of functionality and display logic into a module that can be easily redistributed for many apps makes my skin tingle. So when I saw that &#8220;modules&#8221; were a big part of the AngularJS methodology, I was super excited to try it out. I quickly realized however, that most of the examples online used one module for the entire application, which didn&#8217;t seem all that modular to me.</p>

<p>At my current company we are developing an app that is ideal for the modular approach. We essentially have separate &#8220;apps&#8221; within our application, each of which we have bundled into full angular modules. This methodology could be used for many other applications as well so I thought I would share our approach.</p>

<div class="alert alert-info">
  Note: Credit for this structure design goes to my coworker and friend <a href="https://twitter.com/tphalp" title="Tyson" target="_blank">@tphalp</a> who is rapidly becoming an angular expert and teaching me his ways.
</div>

<h4 id="directory-structure:4c97daa88433d2e6f1d0de762f76dbf5">Directory Structure</h4>

<p>Here is the way we setup our directory structure:</p>

<p><img src="http://clintberry.com/images/Screen-Shot-2013-04-23-at-7.23.24-PM.png" alt="App Structure" width="315" height="363" class="alignnone size-full wp-image-807" /></p>

<p>You can see we have the standard app directory similar to angular seed or a yeoman generated project. But we add a modules directory within the app directory. Each module then has its own sub-directory and a file for directives, controllers, filters and services and a directory for views.</p>

<p>I am still somewhat conflicted on wether I should be creating a new file for each directive/controller/filter/service or if the current way is fine. Sometimes the files get to be too large an unwieldy and I want them broken up.</p>

<p>here is a shot further down the tree:</p>

<p><img src="http://clintberry.com/images/Screen-Shot-2013-04-23-at-7.23.56-PM.png" alt="More app structure" width="220" height="170" class="alignnone size-full wp-image-817" /></p>

<p>We still maintain the scripts folder which houses app.js and our routes.js file for handling the routing.</p>

<h4 id="defining-the-modules:4c97daa88433d2e6f1d0de762f76dbf5">Defining the Modules</h4>

<p>Let&#8217;s have a look at the app.js file where we setup our modules and define dependencies.</p>

<pre class="wp-code-highlight prettyprint">// Define all your modules with no dependencies
angular.module(&#039;BirthdayApp&#039;, []);
angular.module(&#039;CollectionApp&#039;, []);
angular.module(&#039;DashboardApp&#039;, []);
angular.module(&#039;LoginApp&#039;, []);
angular.module(&#039;MessageApp&#039;, []);
angular.module(&#039;PatientApp&#039;, []);
angular.module(&#039;PhoneApp&#039;, []);
angular.module(&#039;ReportsApp&#039;, []);

// Lastly, define your "main" module and inject all other modules as dependencies
angular.module(&#039;MainApp&#039;,
  [
    &#039;BirthdayApp&#039;,
    &#039;CollectionApp&#039;,
    &#039;DashboardApp&#039;,
    &#039;LoginApp&#039;,
    &#039;MessageApp&#039;,
    &#039;PatientApp&#039;,
    &#039;PhoneApp&#039;,
    &#039;ReportsApp&#039;,
    &#039;templates-main&#039;,
  ]
);

</pre>

<h5 id="nbsp:4c97daa88433d2e6f1d0de762f76dbf5">&nbsp;</h5>

<p>Creating a &#8220;MainAppModule&#8221; allows us to inject all our other modules which in turn allows each of our other modules to access each other. So if the Reports module needs to access something from the Patient module, it will be able to with this method without having to inject the Patient module directly into the Reports module.</p>

<p>The MainApp also allows us to do routing and use ng-view in our index.html file:</p>

<pre class="wp-code-highlight prettyprint">&lt;html&gt;
// ...
&lt;body ng-app="MainApp"&gt;
    &lt;div ng-view&gt;&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>

<h5 id="nbsp-1:4c97daa88433d2e6f1d0de762f76dbf5">&nbsp;</h5>

<p>Then you define your routes on the MainApp module</p>

<pre class="wp-code-highlight prettyprint">// scripts/routes.js
angular.module(&#039;MainApp&#039;)
  .config(
    [&#039;$routeProvider&#039;,
      function($routeProvider) {
        $routeProvider
          .when(&#039;/&#039;, {
            templateUrl: &#039;modules/dashboard/views/index.html&#039;,
            action: &#039;DashboardApp.DashboardCtrl&#039;
          })
   // ...

</pre>

<h4 id="implementing-your-modules:4c97daa88433d2e6f1d0de762f76dbf5">Implementing Your Modules</h4>

<p>Now when we go to add a directive/service/filter/controller to a module, we open up the appropriate file within that module and simply use the appropriate module name when we define it.</p>

<pre class="wp-code-highlight prettyprint">// app/modules/patient/controllers.js
angular.module(&#039;PatientApp&#039;).controller(&#039;PatientCtrl&#039;, function($scope) {
 $scope.patients = "something";
});
</pre>

<h5 id="nbsp-2:4c97daa88433d2e6f1d0de762f76dbf5">&nbsp;</h5>

<p>Since we inject all modules into a &#8220;global&#8221; module you will need to take care to namespace your angular elements appropriately so you don&#8217;t run into name conflicts. Take a look at <a href="https://github.com/angular-ui/bootstrap" title="Angular Bootstrap Github" target="_blank">angular bootstrap code</a> too see how they use multiple modules and namespace them.</p>

<p>And that is it! Now you can make reusable modules for angular that you can use in different apps, or even <a href="http://briantford.com/blog/angular-bower.html" title="angular modules in bower" target="_blank">contribute your module to Bower</a> if it is something that will benefit the community.</p>

<p>Hope this helps!</p>

	
			

			

			
				<div class="paging">
					<span class="paging-label">More Reading</span>
					
					<div class="paging-newer">
						<span class="dark-red">Newer</span><span class="decorative-marker">//</span>
						<a class="paging-link" href="/2013/html5-apps-desktop-2013/">HTML5 Apps on the Desktop in 2013</a>
		            </div>
		            

					
					<div class="paging-older">
						<span class="dark-red">Older</span><span class="decorative-marker">//</span>
			            <a class="paging-link" href="/about/">About</a>
		            </div>
		            
	            </div>
            
          </section>
          
          	<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'clintberrycom';
    var disqus_identifier = 'http:\/\/clintberry.github.io\/2013\/modular-angularjs-application-design\/';
    var disqus_title = 'Modular AngularJS App Design';
    var disqus_url = 'http:\/\/clintberry.github.io\/2013\/modular-angularjs-application-design\/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
          
        
      <div class="footer">
	<hr class="thin" />
	<div class="pure-menu pure-menu-horizontal pure-menu-open">
		<ul class="footer-menu">
		
		</ul>
	</div>

	<p>&copy; 2015. All rights reserved. </p>
</div>
    </div>
  </div>
	

	

  
</body>
</html>